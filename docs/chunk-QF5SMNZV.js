import{A as m,B as R,C as T,D as F,E as D,F as Q,G as M,H as x,I as w,J as W,K as X,O as Y,Q as Z,R as ee,S as $,W as L,X as te,Y as ie,a as j,b as A,c as V,d as q,e as y,f as z,g as E,h as J,i as p,j as I,k as H,l as G,m as B,n as c,o as u,p as h,q as s,r as o,s as n,t as l,u as K,v as S,w as C,x as P,y as a,z as b}from"./chunk-6CNKBKWZ.js";var f=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLoacalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLoacalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(e){return this.http.get(e).pipe(V(()=>j([])))}searchCountryByAlphaCode(e){let i=`${this.apiUrl}/alpha/${e}`;return this.http.get(i).pipe(A(r=>r.length>0?r[0]:null),V(()=>j(null)))}searchCapital(e){let i=`${this.apiUrl}/capital/${e}`;return this.getCountriesRequest(i).pipe(y(r=>this.cacheStore.byCapital={term:e,countries:r}),y(()=>this.saveToLocalStorage()))}searchCountry(e){let i=`${this.apiUrl}/name/${e}`;return this.getCountriesRequest(i).pipe(y(r=>this.cacheStore.byCountries={term:e,countries:r}),y(()=>this.saveToLocalStorage()))}searchRegion(e){let i=`${this.apiUrl}/region/${e}`;return this.getCountriesRequest(i).pipe(y(r=>this.cacheStore.byRegion={region:e,countries:r}),y(()=>this.saveToLocalStorage()))}static{this.\u0275fac=function(i){return new(i||t)(J(X))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var le=t=>["/countries/by",t];function me(t,d){t&1&&(o(0,"div",2),a(1,` No hay pa\xEDs que mostrar
`),n())}function pe(t,d){if(t&1&&(o(0,"tr")(1,"td"),a(2),n(),o(3,"td"),a(4),n(),o(5,"td"),l(6,"img",5),n(),o(7,"td"),a(8),n(),o(9,"td"),a(10),n(),o(11,"td"),a(12),T(13,"number"),n(),o(14,"td")(15,"a",6),a(16,"Info"),n()()()),t&2){let e=d.$implicit,i=d.index;c(2),b(i+1),c(2),b(e.flag),c(2),s("src",e.flags.svg,B)("alt",e.name.common),c(2),b(e.name.common),c(2),b(e.capital),c(2),b(F(13,8,e.population)),c(3),s("routerLink",R(10,le,e.cca3))}}function ue(t,d){if(t&1&&(o(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),n(),o(5,"th"),a(6,"Icon"),n(),o(7,"th"),a(8,"Bandera"),n(),o(9,"th"),a(10,"Nombre"),n(),o(11,"th"),a(12,"Capital"),n(),o(13,"th"),a(14,"Poblaci\xF3n"),n(),l(15,"th"),n()(),o(16,"tbody"),h(17,pe,17,12,"tr",4),n()()),t&2){let e=C();c(17),s("ngForOf",e.countries)}}var _=(()=>{class t{constructor(){this.countries=[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=p({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(i,r){if(i&1&&h(0,me,2,0,"div",1)(1,ue,18,1,"ng-template",null,0,D),i&2){let g=P(2);s("ngIf",r.countries.length===0)("ngIfElse",g)}},dependencies:[M,x,ee,w],styles:["img[_ngcontent-%COMP%]{width:25px}"]})}}return t})();function he(t,d){t&1&&l(0,"shared-loading-spinner")}var ne=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(e){this.isLoading=!0,this.countriesService.searchCapital(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||t)(u(f))}}static{this.\u0275cmp=p({type:t,selectors:[["app-by-capital-page"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(i,r){i&1&&(o(0,"h2"),a(1,"Por capital"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),S("onDebounce",function(O){return r.searchByCapital(O)}),n()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),h(9,he,1,0,"shared-loading-spinner",3),o(10,"ul"),l(11,"countries-table",4),n()()()),i&2&&(c(5),s("initialValue",r.initialValue),c(4),s("ngIf",r.isLoading),c(2),s("countries",r.countries))},dependencies:[x,L,te,_]})}}return t})();var oe=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(e){this.countriesService.searchCountry(e).subscribe(i=>{this.countries=i})}static{this.\u0275fac=function(i){return new(i||t)(u(f))}}static{this.\u0275cmp=p({type:t,selectors:[["app-by-coutry-page"]],decls:11,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"onDebounce","initialValue"],[3,"countries"]],template:function(i,r){i&1&&(o(0,"h2"),a(1,"Por pa\xEDs"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),S("onDebounce",function(O){return r.searchByCountry(O)}),n()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),o(9,"ul"),l(10,"countries-table",3),n()()()),i&2&&(c(5),s("initialValue",r.initialValue),c(5),s("countries",r.countries))},dependencies:[L,_]})}}return t})();var fe=t=>({"btn-outline-primary":t});function ge(t,d){if(t&1){let e=K();o(0,"button",5),S("click",function(){let r=H(e).$implicit,g=C();return G(g.searchByRegion(r))}),a(1),n()}if(t&2){let e=d.$implicit,i=C();s("ngClass",R(2,fe,i.selectedRegion===e)),c(),m(" ",e," ")}}var re=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(e){this.selectedRegion=e,this.countriesService.searchRegion(e).subscribe(i=>{this.countries=i})}static{this.\u0275fac=function(i){return new(i||t)(u(f))}}static{this.\u0275cmp=p({type:t,selectors:[["app-by-region-page"]],decls:11,vars:2,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(i,r){i&1&&(o(0,"h2"),a(1,"Por regi\xF3n"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1),h(5,ge,2,4,"button",2),n()(),o(6,"div",0)(7,"div",3),l(8,"hr"),o(9,"ul"),l(10,"countries-table",4),n()()()),i&2&&(c(5),s("ngForOf",r.regions),c(5),s("countries",r.countries))},dependencies:[Q,M,_]})}}return t})();function ye(t,d){t&1&&(o(0,"div",11),a(1,"Espere por favor"),n())}function Ce(t,d){if(t&1&&(o(0,"div")(1,"div",2)(2,"div",12)(3,"h2"),a(4," Pa\xEDs: "),o(5,"strong"),a(6),n()(),l(7,"hr"),n()()()),t&2){let e=C();c(6),m(" ",e.country.name.common," ")}}var ae=(()=>{class t{constructor(e,i,r){this.activateRoute=e,this.router=i,this.countryService=r}ngOnInit(){this.activateRoute.params.pipe(q(({id:e})=>this.countryService.searchCountryByAlphaCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static{this.\u0275fac=function(i){return new(i||t)(u(Y),u(Z),u(f))}}static{this.\u0275cmp=p({type:t,selectors:[["app-country-page"]],decls:40,vars:15,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"],[1,"alert","alert-info","text-center"],[1,"col-12"]],template:function(i,r){if(i&1&&(h(0,ye,2,0,"ng-template",null,0,D)(2,Ce,8,1,"div",1),o(3,"div",2)(4,"div",3)(5,"h3"),a(6,"Bandera"),n(),l(7,"img",4),n(),o(8,"div",5)(9,"h3"),a(10,"Informaci\xF3n"),n(),o(11,"ul",6)(12,"li",7)(13,"strong"),a(14,"Poblaci\xF3n:"),n(),a(15),T(16,"number"),n(),o(17,"li",7)(18,"strong"),a(19,"C\xF3digo:"),n(),a(20),n()()(),o(21,"div",8)(22,"div",5)(23,"h3"),a(24,"Traducciones"),n(),o(25,"div",9)(26,"span",10),a(27),n(),o(28,"span",10),a(29),n(),o(30,"span",10),a(31),n(),o(32,"span",10),a(33),n(),o(34,"span",10),a(35),n(),o(36,"span",10),a(37),n(),o(38,"span",10),a(39),n()()()()()),i&2){let g=P(1);c(2),s("ngIf",r.country)("ngIfElse",g),c(5),s("src",r.country==null||r.country.flags==null?null:r.country.flags.svg,B)("alt",r.country==null||r.country.name==null?null:r.country.name.common),c(8),m("",F(16,13,r.country==null?null:r.country.population)," "),c(5),m("",r.country==null?null:r.country.cca3," "),c(7),m(" ",r.country.translations.ara.common," "),c(2),m(" ",r.country.translations.ces.common," "),c(2),m(" ",r.country.translations.fin.common," "),c(2),m(" ",r.country.translations.ita.common," "),c(2),m(" ",r.country.translations.est.common," "),c(2),m(" ",r.country.translations.deu.common," "),c(2),m(" ",r.country.translations.bre.common," ")}},dependencies:[x,w]})}}return t})();var ve=[{path:"by-capital",component:ne},{path:"by-country",component:oe},{path:"by-region",component:re},{path:"by/:id",component:ae},{path:"**",redirectTo:"by-capital"}],ce=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=E({imports:[$.forChild(ve),$]})}}return t})();var Ge=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=E({imports:[W,ce,ie]})}}return t})();export{Ge as CountriesModule};
